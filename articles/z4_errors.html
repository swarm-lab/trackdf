<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="trackdf">
<title>4 - Detecting errors • trackdf</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="4 - Detecting errors">
<meta property="og:description" content="trackdf">
<meta property="og:image" content="https://swarm-lab.github.io/trackdf/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">trackdf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/z1_install.html">1 - Installing trackdf</a>
    <a class="dropdown-item" href="../articles/z2_build.html">2 - Building a track table</a>
    <a class="dropdown-item" href="../articles/z3_manipulate.html">3 - Manipulating a track table</a>
    <a class="dropdown-item" href="../articles/z4_errors.html">4 - Detecting errors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/swarm-lab/trackdf/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>4 - Detecting errors</h1>
                        <h4 data-toc-skip class="author">Simon
Garnier</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/swarm-lab/trackdf/blob/HEAD/vignettes/z4_errors.Rmd" class="external-link"><code>vignettes/z4_errors.Rmd</code></a></small>
      <div class="d-none name"><code>z4_errors.Rmd</code></div>
    </div>

    
    
<p>Missing observations and recording errors are fairly common in
tracking data. They can be caused by hardware failures, object
occultation, faulty data writing, etc. <code>trackdf</code> provides a
few functions to help detect this missing or erroneous data so that you
can fix them or omit them altogether from your analysis.</p>
<p>But first, let’s load some “flawed” data provided with
<code>trackdf</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://swarm-lab.github.io/trackdf/">trackdf</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'trackdf'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/gps/01.csv"</span>, package <span class="op">=</span> <span class="st">"trackdf"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/track_.html">track</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">lon</span>, y <span class="op">=</span> <span class="va">raw</span><span class="op">$</span><span class="va">lat</span>, t <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">raw</span><span class="op">$</span><span class="va">date</span>, <span class="va">raw</span><span class="op">$</span><span class="va">time</span><span class="op">)</span>, id <span class="op">=</span> <span class="fl">1</span>,  </span>
<span>            proj <span class="op">=</span> <span class="st">"+proj=longlat"</span>, tz <span class="op">=</span> <span class="st">"Africa/Windhoek"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 1 failed to parse.</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tt</span>, max <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">tt</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Track table [3599 observations]</span></span>
<span><span class="co">## Number of tracks:  1 </span></span>
<span><span class="co">## Dimensions:  2D </span></span>
<span><span class="co">## Geographic:  TRUE </span></span>
<span><span class="co">## Projection:  +proj=longlat </span></span>
<span><span class="co">## Table class:  data frame ('data.frame')</span></span>
<span><span class="co">##    id                   t        x         y</span></span>
<span><span class="co">## 1   1 2015-09-10 07:00:00 15.76468 -22.37957</span></span>
<span><span class="co">## 2   1 2015-09-10 07:00:01 15.76468 -22.37957</span></span>
<span><span class="co">## 3   1 2015-09-10 07:00:04 15.76468 -22.37958</span></span>
<span><span class="co">## 4   1 2015-09-10 07:00:05 15.76468 -22.37958</span></span>
<span><span class="co">## 5   1 2015-09-10 07:00:06       NA -22.37958</span></span>
<span><span class="co">## 6   1 2015-09-10 07:00:07 15.76467        NA</span></span>
<span><span class="co">## 7   1 2015-09-10 07:00:08 15.76467 -22.37959</span></span>
<span><span class="co">## 8   1 2015-09-10 07:00:09 15.76467 -22.37959</span></span>
<span><span class="co">## 9   1 2015-09-10 07:00:09 15.76467 -22.37959</span></span>
<span><span class="co">## 10  1 2015-09-10 07:00:10 15.76467 -22.37959</span></span>
<span><span class="co">##  [ reached 'max' / getOption("max.print") -- omitted 3589 rows ]</span></span></code></pre>
<hr>
<div class="section level2">
<h2 id="missing-observations">4.1 - Missing observations<a class="anchor" aria-label="anchor" href="#missing-observations"></a>
</h2>
<p>These are observations that have not been recorded at all. If the
data is recorded at regular intervals, then these missing observations
can be easily detected using the <code>missing_data</code> function as
follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">missing</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/missing_data.html">missing_data</a></span><span class="op">(</span><span class="va">tt</span><span class="op">)</span></span>
<span><span class="va">missing</span></span></code></pre></div>
<pre><code><span><span class="co">## Track table [5 observations]</span></span>
<span><span class="co">## Number of tracks:  1 </span></span>
<span><span class="co">## Dimensions:  2D </span></span>
<span><span class="co">## Geographic:  TRUE </span></span>
<span><span class="co">## Projection:  +proj=longlat </span></span>
<span><span class="co">## Table class:  data frame ('data.frame')</span></span>
<span><span class="co">##   id                   t        x         y</span></span>
<span><span class="co">## 1  1 2015-09-10 07:00:02       NA        NA</span></span>
<span><span class="co">## 2  1 2015-09-10 07:00:03       NA        NA</span></span>
<span><span class="co">## 4  1 2015-09-10 07:00:06       NA -22.37958</span></span>
<span><span class="co">## 5  1 2015-09-10 07:00:07 15.76467        NA</span></span>
<span><span class="co">## 3  1 2015-09-10 07:00:34       NA        NA</span></span></code></pre>
<p>The output is a track table with each row corresponding to a time
stamp at which at least one coordinate is missing.</p>
<p>Note that you can specify the beginning (<code>begin</code>) and end
(<code>end</code>) of the observation window in which you want to detect
missing data, as well as the time difference (<code>step</code>) between
successive observations.</p>
<hr>
</div>
<div class="section level2">
<h2 id="duplicated-observations">4.2 - Duplicated observations<a class="anchor" aria-label="anchor" href="#duplicated-observations"></a>
</h2>
<p>These are observations that are repeated multiple times throughout
the data set (e.g., two observations with identical time stamps for a
given individual). These duplicated observations can be detected using
the <code>duplicated_data</code> function as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/duplicated_data.html">duplicated_data</a></span><span class="op">(</span><span class="va">tt</span>, type <span class="op">=</span> <span class="st">"t"</span><span class="op">)</span></span>
<span><span class="va">dups</span></span></code></pre></div>
<pre><code><span><span class="co">## Track table [1 observations]</span></span>
<span><span class="co">## Number of tracks:  1 </span></span>
<span><span class="co">## Dimensions:  2D </span></span>
<span><span class="co">## Geographic:  TRUE </span></span>
<span><span class="co">## Projection:  +proj=longlat </span></span>
<span><span class="co">## Table class:  data frame ('data.frame')</span></span>
<span><span class="co">##   id                   t        x         y duplicate</span></span>
<span><span class="co">## 8  1 2015-09-10 07:00:09 15.76467 -22.37959       txy</span></span></code></pre>
<p>The output is a track table with each row corresponding to an
observation that was partially or completely duplicated, depending on
the <code>type</code> argument. This argument is a character string or a
vector of character strings indicating the type of duplications to look
for. The strings can be any combination of “t” (for time duplications)
and “x”, “y”, “z” (for coordinate duplications). For instance, the
string “txy” will return data with duplicated time stamps and duplicated
x and y coordinates.</p>
<hr>
</div>
<div class="section level2">
<h2 id="inconsistent-observations">4.3 - Inconsistent observations<a class="anchor" aria-label="anchor" href="#inconsistent-observations"></a>
</h2>
<p>These are observations whose coordinates are too different from the
surrounding (timewise) observations, for instance, because of sporadic
errors in GPS recordings. These inconsistent observations can be
detected using the <code>duplicated_data</code> function as follows:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inconsistent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/inconsistent_data.html">inconsistent_data</a></span><span class="op">(</span><span class="va">tt</span>, s <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span><span class="va">inconsistent</span></span></code></pre></div>
<pre><code><span><span class="co">## Track table [1 observations]</span></span>
<span><span class="co">## Number of tracks:  1 </span></span>
<span><span class="co">## Dimensions:  2D </span></span>
<span><span class="co">## Geographic:  TRUE </span></span>
<span><span class="co">## Projection:  +proj=longlat </span></span>
<span><span class="co">## Table class:  data frame ('data.frame')</span></span>
<span><span class="co">##   id                   t        x         y</span></span>
<span><span class="co">## 1  1 2015-09-10 07:00:24 15.86467 -22.47959</span></span></code></pre>
<p>The output is a track table with each row corresponding to an
inconsistent observation.</p>
<p>Note that the detection of inconsistencies requires specifying a
threshold (<code>s</code>) for distinguishing between consistent and
inconsistent observations. Higher threshold values will result in a
lower number of detected inconsistencies, and reciprocally for lower
threshold values.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.theswarmlab.com" class="external-link">Simon Garnier</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
